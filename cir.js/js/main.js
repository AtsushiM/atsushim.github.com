(function(){function l(a){a[0]&&(a.addClass(d),g.set(a.attr("id"),1))}function m(a){a[0]&&(a.removeClass(d),g.remove(a.attr("id")))}function h(a){a[0]&&(a.addClass(e),j.set(a.attr("id"),1))}var b={},c=C.$,d="close",e="open",g=new C.LocalStorage({namespace:d}),j=new C.LocalStorage({namespace:e});b.init=function(){var a=g.get(),k=j.get(),b=location.hash.split("#")[1],f;for(f in a)l(c("#"+f));b&&h(c("#"+b));for(f in k)h(c("#"+f))};b.localLink=function(){var a=new C.Scroll;return c('a[href^="#"]').on(C.e.CLICK,
function(k){var b=c(this),f=c(b.attr("href"));m(f);a.smooth(f[0],function(){console.log("test");location.hash=b.attr("href").split("#")[1]});C.util.eventPrevent(k)})};b.submenu=function(){function a(){function a(){var b=document.body.clientHeight-k[0].offsetHeight-e-g-window.scrollY;0<b&&(b=0);d.css({marginTop:b})}var b=this.innerHeight,d=c("#sub"),e=d[0].offsetHeight,g=d[0].offsetTop,h="fixed",j="on",l=new C.Throttle({waittime:25,callback:a});e+g>b?(h="static",j="off"):a();d.css({position:h});c(window)[j]("scroll",
function(){l.request()})}c("#sub");var k=c("#footer");c(window).on(C.e.RESIZE,a);c(window).on(C.e.LOAD,a)};b.toggle=function(){var a=c("#main");a.find("dt").on(C.e.CLICK,function(){var a=c(this).parent();return a.hasClass(d)?m(a):l(a)});a.find("h3").on(C.e.CLICK,function(){var a=c(this).parent();if(!a.hasClass(e))return h(a);a[0]&&(a.removeClass(e),j.remove(a.attr("id")))})};b.init();b.localLink();b.submenu();b.toggle()})();
