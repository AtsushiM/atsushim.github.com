(function(){function e(a){a[0]&&(a.addClass(c),f.set(a.attr("id"),1))}var b={},d=C.$,c="open",f=new C.LocalStorage({namespace:c});b.init=function(){var a=f.get(),b=location.hash.split("#")[1],c;for(c in a)e(d("#"+c));b&&e(d("#"+b))};b.localLink=function(){return d('a[href^="#"]').on(C.event.click,function(){e(d(d(this).attr("href")))})};b.submenu=function(){function a(){var a=this.innerHeight,c=d("#sub");c[0].offsetHeight+c[0].offsetTop+b[0].offsetHeight>a?c.css({position:"static"}):c.css({position:"fixed"})}
d("#sub");var b=d("#footer");d(window).on(C.event.resize,a);d(window).on(C.event.load,a)};b.toggle=function(){return d("#main").find("dt, h3").on(C.event.click,function(){var a=d(this).parent();a.hasClass(c)?(a[0]&&(a.removeClass(c),f.remove(a.attr("id"))),a=void 0):a=e(a);return a})};b.init();b.localLink();b.submenu();b.toggle()})();
