(function(){function k(a){a[0]&&(a.addClass(d),g.set(a.attr("id"),1))}function l(a){a[0]&&(a.removeClass(d),g.remove(a.attr("id")))}function h(a){a[0]&&(a.addClass(e),i.set(a.attr("id"),1))}var b={},c=C.$,d="close",e="open",g=new C.LocalStorage({namespace:d}),i=new C.LocalStorage({namespace:e});b.init=function(){var a=g.get(),j=i.get(),b=location.hash.split("#")[1],f;for(f in a)k(c("#"+f));b&&h(c("#"+b));for(f in j)h(c("#"+f))};b.localLink=function(){return c('a[href^="#"]').on(C.event.click,function(){l(c(c(this).attr("href")))})};
b.submenu=function(){function a(){var a=this.innerHeight,b=c("#sub");b[0].offsetHeight+b[0].offsetTop+j[0].offsetHeight/2>a?b.css({position:"static"}):b.css({position:"fixed"})}c("#sub");var j=c("#footer");c(window).on(C.event.resize,a);c(window).on(C.event.load,a)};b.toggle=function(){var a=c("#main");a.find("dt").on(C.event.click,function(){var a=c(this).parent();return a.hasClass(d)?l(a):k(a)});a.find("h3").on(C.event.click,function(){var a=c(this).parent();a.hasClass(e)?(a[0]&&(a.removeClass(e),
i.remove(a.attr("id"))),a=void 0):a=h(a);return a})};b.init();b.localLink();b.submenu();b.toggle()})();
