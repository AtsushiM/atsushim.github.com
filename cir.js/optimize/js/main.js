(function(){var b,e=C.$;b=C.klass({extend:C.Event,properties:{createjssrc:"a",srccreatestart:"b",srcloaded:"c"}});b={observer:new C.Observer,e:new b,el:new function(){return{check_all:e("#all"),btn_create:e("#create"),srcs:e("#srcfile input"),srcarea:e("#srcarea")}},dependency:new function(){return{active:{selector_methods:["selector"],selector_methods_animate:["selector","selector_methods","Tweener","Animation"],ExternalInterface:["HashQuery","ExternalInterface_Android","ExternalInterface_IOS"],
ExternalInterface_Android:["HashQuery","ExternalInterface"],ExternalInterface_IOS:["HashQuery","ExternalInterface"],Audio:["Embed"],Sound:["Embed","Media","Audio"],Video:["Embed"],Movie:["Embed","Media","Video"],Media:["Embed","Audio","Video"],LocalStorage:["WebStorage"],SessionStorage:["WebStorage"],DeviceMotion:["DeviceAction"],DeviceOrientation:["DeviceAction"],DeviceShake:["DeviceAction","DeviceMotion","DeviceOrientation"],View:["selector","selector_methods"],Model:["selector","DataStore","Observer"]},
passive:{selector:["selector_methods","selector_methods_animate","View"],selector_methods:["selector_methods_animate","View"],DataStore:["Model"],Observer:["Model"],HashQuery:["ExternalInterface","ExternalInterface_Android","ExternalInterface_IOS"],ExternalInterface:["ExternalInterface_Android","ExternalInterface_IOS"],Tweener:["selector_methods_animate"],Embed:["Audio","Video","Media","Sound","Movie"],Media:["Audio","Video","Sound","Movie"],Audio:["Sound"],Video:["Movie"],WebStorage:["LocalStorage",
"SessionStorage"],DeviceAction:["DeviceMotion","DeviceOrientation","DeviceShake"],DeviceMotion:["DeviceShake"],DeviceOrientation:["DeviceShake"]},waste:{ExternalInterface:["ExternalInterface_Android","ExternalInterface_IOS"],Media:["Audio","Video","Sound","Movie"],DeviceAction:["DeviceMotion","DeviceOrientation","DeviceShake"]}}},ajax:new function(){return{jssrc:function(a){(new C.Ajax).request({url:a.src+"?update="+Date.now(),callback:function(c){a.result[a.src]=c;a.callback()}})},closurecompiler:function(a){var c=
new C.Ajax,h="",h="compilation_level=ADVANCED_OPTIMIZATIONS&output_format=text&output_info=compiled_code&&js_code="+a.src;c.request({url:"http://closure-compiler.appspot.com/compile",type:"POST",query:h,callback:function(c){a.callback(c)}})}}}};b.makeSrc=new function(a){var c=a.e,h=a.observer,b=a.ajax,d=a.el;a={make:function(a){for(var j="",f=0,e=d.srcs.length,k;f<e;f++)k=d.srcs[f].value,a[k]&&(j+=encodeURIComponent(a[k]));b.closurecompiler({src:j,callback:function(d){h.fire(c.createjssrc,a["src/clouser_start.js"]+
d+a["src/clouser_end.js"])}});return j}};h.on(c.srcloaded,a.make);return a}(b);b.btnCreate=new function(a){var c=a.e,h=a.observer,b=a.ajax,d=a.el,g={requestJS:function(){var a=0,f=0,e=d.srcs.length,k={},m=function(){f--;0===f&&h.fire(c.srcloaded,k)};h.fire(c.srccreatestart,k);for(g.unbind();a<e;a++)d.srcs[a].checked&&(f++,b.jssrc({src:d.srcs[a].value,result:k,callback:m}))},unbind:function(){d.btn_create.attr("value","request...");return d.btn_create.off(C.e.CLICK,g.requestJS)},bind:function(){d.btn_create.attr("value",
"Create.");return d.btn_create.on(C.e.CLICK,g.requestJS)}};g.bind();h.on(c.createjssrc,g.bind);return g}(b);b.chkAll=new function(a){var c=a.el;a={toggle:function(){var a=0,b=c.srcs.length,d="checked";for(c.check_all[0].checked||(d="");a<b;a++)c.srcs[a].disabled||(c.srcs[a].checked=d)}};c.check_all.on(C.e.CLICK,a.toggle);return a}(b);b.chkSrc=new function(a){var c=a.dependency,b,l={checkDependency:function(){var a=e(this).parent().parent(),g="passive",j=c.waste,f;this.checked&&(g="active");(b=c[g][a[0].id])&&
l.setDependency(b,this.checked);if(!this.checked)for(f in j){g=!0;for(a=j[f].length;a--;)if(e("#"+j[f][a]+" input")[0].checked){g=!1;break}g&&(e("#"+f+" input")[0].checked=!1)}},setDependency:function(a,c){var b=0,f=a.length;for(console.log(a);b<f;b++)e("#"+a[b]+" input")[0].checked=c}};a.el.srcs.on(a.e.CHANGE,l.checkDependency);return l}(b);b.srcArea=new function(a){var b=a.e,e=a.observer,l=a.el,d={setValue:function(a){l.srcarea[0].value=a},loading:function(){d.setValue("Now Create...")}};e.on(b.createjssrc,
d.setValue);e.on(b.srccreatestart,d.loading);return d}(b)})();
